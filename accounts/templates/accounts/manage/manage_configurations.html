{% extends 'base.html' %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <h2 class="mb-4 text-center">
            Configurações para o Token "{{ token.name }}"
        </h2>

        <!-- Formulário de Configurações -->
        <div class="card p-3 mb-4">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-save"></i> Salvar Configurações
                </button>
            </form>
        </div>

        <!-- Botões de Ação Integrados -->
        <div class="d-flex flex-wrap gap-2 mb-3">
            <a href="{% url 'ai_config:manage_ai_configurations' token.id %}" class="btn btn-info">
                <i class="bi bi-gear"></i> Configurar IA
            </a>
            <a href="{% url 'ai_config:manage_token_configurations' token.id %}" class="btn btn-secondary">
                <i class="bi bi-code-slash"></i> Configurar Prompt
            </a>
            <a href="{% url 'ai_config:manage_training_configurations' token.id %}" class="btn btn-warning">
                <i class="bi bi-wrench"></i> Parâmetros de Treinamento
            </a>
            <a href="{% url 'ai_config:train_ai' token.id %}" class="btn btn-danger">
                <i class="bi bi-cpu-fill"></i> Treinar IA
            </a>
            <form method="post" action="{% url 'delete_token' token.id %}" class="d-inline">
                {% csrf_token %}
                <button type="submit" class="btn btn-outline-danger"
                        onclick="return confirm('Tem certeza que deseja deletar este token?');">
                    <i class="bi bi-trash"></i> Excluir Token
                </button>
            </form>
        </div>

        <!-- Botão para Voltar -->
        <a href="{% url 'manage_tokens' %}" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left"></i> Voltar para Gerenciar Tokens
        </a>
    </div>
</div>
{% endblock %}
